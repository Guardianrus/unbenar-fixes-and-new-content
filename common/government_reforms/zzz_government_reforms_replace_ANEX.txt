secure_clergy_power_reform = {	#new LotN
	icon = "warrior_monks_reform"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		#Anbennar
		NOT = { has_adventurer_reform = yes }
		NOT = { culture_group = dwarven }
		NOT = { has_reform = hobgoblin_stratocracy_reform }
	}
	modifiers = {
		church_influence_modifier = 0.05
		adm_advisor_cost = -0.1
	}
	effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_religi_building_trigger = yes
				}
				add_province_modifier = {
					name = gov_expanded_temple_rights_mod
					duration = -1
				}
			}
		}
	}
	post_removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = gov_expanded_temple_rights_mod
				}
				remove_province_modifier = gov_expanded_temple_rights_mod
			}
		}
	}
	custom_attributes = {
		temples_modifier = yes
	}
	
	ai = {
		factor = 1
	}
}

damerian_monarchy = {
	icon = "british_queen"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		OR = {
			primary_culture = west_damerian
			primary_culture = east_damerian
			primary_culture = rogieran
			primary_culture = pashainey
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 15
	nation_designer_trigger = {
		has_dlc = "Common Sense"
	}
	start_territory_to_estates = 0.3
	modifiers = {
		diplomatic_reputation = 1
		global_unrest = -1
		max_absolutism = -10
	}

	conditional = {
		allow = { has_dlc = "Common Sense" }
		has_parliament = yes
		custom_attributes = {
			blocked_call_diet = yes
			disables_nobility = yes
		}
	}
}

stake_our_claim = {
	icon = "dutch_flag"
	potential = {
		has_reform = adventurer_reform
	}
	trigger = {
		if = {
			limit = { ai = no has_dlc = "Conquest of Paradise" NOT = { has_reform = stake_our_claim } } # Fuck you players
			custom_trigger_tooltip = {
				tooltip = "MUST_BE_IN_TRIBAL_LAND_TO_SETTLE"
				capital_scope = { tribal_land_of = ROOT }
			}
		}
	}
	modifiers = {
		add_tribal_land_cost = 1
		province_warscore_cost = 0.75
		stability_cost_modifier = -0.1
	}
	conditional = {
		allow = { has_dlc = "Conquest of Paradise" }
		allow_migration = no
		custom_attributes = {
			enable_settled_mechanics = yes
			enable_tribal_grazing = no
		}
	}
	custom_attributes = {
		conquer_settled_land = yes
	}
	effect = {
		custom_tooltip = claim_all_adjacent_monster_tt
		hidden_effect = {
			capital_scope = {
				tribal_owner = {
					if = {
						limit = { ai = yes }
						country_event = { id = adventurer.4 } # Don't sent yourself the event if you're not an AI
					}
				}
				change_tribal_land = ROOT
				# Take monsters tribal land
				tribal_owner = {
					set_variable = {
						which = trbland
						value = 1
					}
				}
				every_tribal_land_province = {
					tribal_owner = {
						change_variable = {
							which = trbland
							value = 1
						}
					}	
				}
				every_empty_neighbor_province = {
					limit = {
						tribal_owner = { 
							is_greentide_horde = yes  # For some reason checking for the modifier doesn't work
							ROOT = {
								NOT = {
									check_variable = {
										which = trbland
										value = 3
									}
								}
							}
						}
					}
					tribal_owner = {
						country_event = { id = adventurer.4 }
					}
					change_tribal_land = ROOT
					ROOT = {
						change_variable = {
							which = trbland
							value = 1
						}
					}
					if = {
						limit = { ROOT = { ai = no } }
						ROOT = {
							add_adm_power = -50
							add_treasury = -100
						}
					}
				}
				# Take monster tribal land
				every_empty_neighbor_province = {
						# Don't remove the NOT and change to an exists = no. You CANNOT scope to a tag that does not exist so this is the only way this works.
					limit = {
						NOT = {
							tribal_owner = { 
								exists = yes
							}
						}	
					}
					change_tribal_land = ROOT
					ROOT = {
						change_variable = {
							which = trbland
							value = 1
						}
					}
					if = {
						limit = { ROOT = { ai = no } }
						ROOT = {
							add_adm_power = -50
							add_treasury = -100
						}
					}
				}
			}
		}
		# set_variable = {
		# 	which = trbland
		# 	value = 0
		# }
	}
	lock_level_when_selected = yes

	ai = {
		factor = 1
	}
}

centralize_reform = {
	icon = "paper_with_seal_3"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		if = {
			limit = { current_age = age_of_discovery }
			custom_trigger_tooltip = {
				tooltip = less_than_15_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 15
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_reformation }
			custom_trigger_tooltip = {
				tooltip = less_than_25_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 25
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_absolutism }
			custom_trigger_tooltip = {
				tooltip = less_than_35_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 35
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_revolutions }
			custom_trigger_tooltip = {
				tooltip = less_than_50_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 50
					}
				}
			}
		}
	}
	trigger = {
		if = {
			limit = { current_age = age_of_discovery }
			custom_trigger_tooltip = {
				tooltip = less_than_15_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 15
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_reformation }
			custom_trigger_tooltip = {
				tooltip = less_than_25_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 25
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_absolutism }
			custom_trigger_tooltip = {
				tooltip = less_than_35_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 35
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_revolutions }
			custom_trigger_tooltip = {
				tooltip = less_than_50_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 50
					}
				}
			}
		}
	}
	modifiers = {
		global_prosperity_growth = 0.5
		all_estate_loyalty_equilibrium = -0.05
	}
	conditional = {
		allow = {
			has_dlc = "Leviathan"
		}
		custom_attributes = {
			#centralize_state_development = yes
		}
	}
}

centralize_empire_reform = {
	icon = "paper_with_seal_3"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		if = {
			limit = { current_age = age_of_discovery }
			custom_trigger_tooltip = {
				tooltip = at_least_15_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 15
				}
			}
		}
		if = {
			limit = { current_age = age_of_reformation }
			custom_trigger_tooltip = {
				tooltip = at_least_25_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 25
				}
			}
		}
		if = {
			limit = { current_age = age_of_absolutism }
			custom_trigger_tooltip = {
				tooltip = at_least_35_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 35
				}
			}
		}
		if = {
			limit = { current_age = age_of_revolutions }
			custom_trigger_tooltip = {
				tooltip = at_least_50_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 50
				}
			}
		}
	}
	trigger = {
		if = {
			limit = { current_age = age_of_discovery }
			custom_trigger_tooltip = {
				tooltip = at_least_15_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 15
				}
			}
		}
		if = {
			limit = { current_age = age_of_reformation }
			custom_trigger_tooltip = {
				tooltip = at_least_25_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 25
				}
			}
		}
		if = {
			limit = { current_age = age_of_absolutism }
			custom_trigger_tooltip = {
				tooltip = at_least_35_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 35
				}
			}
		}
		if = {
			limit = { current_age = age_of_revolutions }
			custom_trigger_tooltip = {
				tooltip = at_least_50_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 50
				}
			}
		}
	}
	modifiers = {
		global_autonomy = -0.05
		autonomy_change_time = -0.25
		culture_conversion_cost = -0.1
		all_estate_loyalty_equilibrium = -0.05
	}
	conditional = {
		allow = {
			has_dlc = "Leviathan"
		}
		custom_attributes = {
			# centralize_state_no_reform_cost = yes
			#centralize_state_development = yes
		}
	}
}

attorney_general_reform = {	#new LotN
	icon = "three_classes_reform"
	allow_normal_conversion = yes
	modifiers = {
		same_culture_advisor_cost = -0.15
	}
	custom_attributes = {
		#seizing_land_no_rebels = yes
		# republican_tradition_from_advisors = yes
		can_not_seize_land = yes
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.1
			NOT = { num_of_cities = 2 }
		}
	}
}